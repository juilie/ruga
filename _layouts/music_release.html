<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
  <meta name="generator" content="Jekyll v4.3.3" />
  <meta property="og:title" content="{{ page.title | escape }}" />
  <meta property="og:locale" content="en_US" />
  <meta name="description" content="{{ page.description | default: site.description | escape }}" />
  <meta property="og:description" content="{{ page.description | default: site.description | escape }}" />
  <link rel="canonical" href="{{ page.url | absolute_url }}" />
  <meta property="og:url" content="{{ page.url | absolute_url }}" />
  <meta property="og:site_name" content="{{ site.title | escape }}" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary" />
  <meta property="twitter:title" content="{{ page.title | escape }}" />
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "description": "{{ page.description | default: site.description | escape }}",
      "headline": "{{ page.title | escape }}",
      "name": "{{ site.title | escape }}",
      "url": "{{ page.url | absolute_url }}"
    }
  </script>
  <!-- End Jekyll SEO tag -->

  <!-- <link rel="stylesheet" href="/static/css/default.css"> -->
  <link rel="stylesheet" href="{{ '/static/css/common.css' | relative_url }}">
  <link type="application/atom+xml" rel="alternate" href="{{ " /feed.xml" | absolute_url }}" title="{{ site.title }}" />

  <title>{{ page.title }}</title>
  <link rel="stylesheet" href="{{ '/static/css/default.css' | relative_url }}">
  <link rel="stylesheet" href="/static/css/music_release.css">
  <link rel="stylesheet" href="/static/css/color-transitions.css">
  <script src="/static/js/color-transitions.js"></script>

</head>

<body>
  <header>
    <h1><a href="/">{{ site.title }}</a></h1>
  </header>
  <main>
    <h2>{{ page.title }}</h2>
   
    {% if page.embeds %}
    <div class="embeds">
      {% for embed in page.embeds %}
      {{ embed.code }}
      {% endfor %}
    </div>
    {% endif %}
    <!-- <p>By {{ page.artist }}</p> -->
    <!-- <p>Released: {{ page.release_date }}</p> -->
    <div class="link-list">
      {% for link in page.links %}
      <a href="{{ link.url }}">{{ link.text }}</a>
      {% endfor %}
    </div>
    
    <img src="{{ page.cover_image }}" alt="{{ page.title }} cover" class="album-cover">

    {% if page.credits %}
    <div class="credits">
      <h3>Credits</h3>
      <div class="table-container">
      <table>
        <tr>
          <th>Name</th>
          <th>Contribution</th>
        </tr>
        {% for credit in page.credits %}
        <tr>
          <td>{{ credit.name }}</td>
          <td>{{ credit.role }}</td>
        </tr>
        {% endfor %}
      </table>
      </div>
    </div>
    {% endif %}

    {% if page.description %}
    <div class="album-description-container">
      <p class="album-description collapsed">
        {{page.description}}
      </p>
      <button class="see-more-btn">See More</button>
    </div>
    {% endif %}


    

  </main>
  <!-- <footer>
    <p>&copy; {{ site.time | date: "%Y" }} {{ site.title }}</p>
  </footer> -->
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const descriptionElement = document.querySelector('.album-description');
      const seeMoreBtn = document.querySelector('.see-more-btn');
      
      if (descriptionElement && seeMoreBtn) {
        // Remove the collapsed class initially to measure the full height
        descriptionElement.classList.remove('collapsed');
        
        // Get the full height of the description
        const fullHeight = descriptionElement.scrollHeight;
        
        // Re-add the collapsed class
        descriptionElement.classList.add('collapsed');
        
        // Check if the description needs the see more button (if it's taller than our max height)
        if (fullHeight <= 150) {
          // If text fits within our max-height limit, hide the button
          seeMoreBtn.style.display = 'none';
          descriptionElement.classList.remove('collapsed');
        } else {
          // Show the button since we have truncated content
          seeMoreBtn.style.display = 'block';
          
          // Add click event to toggle button
          seeMoreBtn.addEventListener('click', function() {
            if (descriptionElement.classList.contains('collapsed')) {
              descriptionElement.classList.remove('collapsed');
              seeMoreBtn.textContent = 'See Less';
            } else {
              descriptionElement.classList.add('collapsed');
              seeMoreBtn.textContent = 'See More';
              // Scroll back to description container when collapsing
              descriptionElement.parentElement.scrollIntoView({behavior: 'smooth', block: 'start'});
            }
          });
        }
      }
    });
  </script>
</body>

</html>